=head1 The Perl 6 Summary for the week ending 2005-07-05

=head1 The Perl 6 summary for the week ending 2005-07-05

My, doesn't time fly? Another fortnight gone and another summary to write. It's
a hard life I tell you!

=head1 This week in perl6-compiler

=head2 Where's everyone gone?

It seems that most of the Perl 6 compiler development is being discussed at
Hackathons and IRC, and summarized in developers' weblogs. What's a summarizer
to do? For now, I'll point you at Planet Perl 6, which aggregates a bunch of
relevant blogs.

L<http://planetsix.perl-foundation.org/>

=head2 PGE now supports grammars, built-in rules

Allison Randal raved about the "totally awesome" PGE grammar support. I doubt
she's alone in her enthusiasm.

L<http://groups.google.com/groups?threadm=b7a12d0375515a6b4381efe3d71ef61e@perl.org>

=head2 Multiple implementations are good, m'kay?

Patrick discussed the idea of a 'final' Perl 6 compiler, pointing out that it
isn't clear that there needs to be a "final" compiler. So long as multiple
implementations are compatible...

L<http://groups.google.com/groups?threadm=20050702165140.GH5089@pmichaud.com>

=head1 Meanwhile, in perl6-internals

=head2 New calling conventions

Klaas-Jan Stol asked a bunch of questions about the new calling conventions and
Leo answered them.

L<http://groups.google.com/groups?threadm=42C16B5A.7040101@home.nl>

=head2 Parrot Segfaults

What's a tester to do? You find a bug that makes Parrot dump core, so you write
a test to document the bug and make sure it gets fixed. But the test leaves
core files lying about. It goes without saying that Parrot should never dump
core without the active assistance of an NCI call or some other unsafe call
blowing up in its face.

Which makes it a little embarrassing that PIR code generated by Pugs can cause
a parrot segfault, though that appears to have been caused by mixed up calling
convention style in the generated call.

L<http://groups.google.com/groups?threadm=200506291354.19610.parrot@jensbeimsurfen.de>

L<http://groups.google.com/groups?threadm=1120142239.14968.20.camel@wombat.dlib.indiana.edu> - Brian Wheeler's
segfaulting Pugs script

=head2 Python PMCs

Leo pointed out that the various F<dynclasses/py*.pmc> parrot support PMCs
don't yet support all the semantics that Python needs. He outlined some
outstanding issues announced that, as calling conventions and context handling
were changing he'd be turning off compiling F<py*.pmc> for the time being.

L<http://groups.google.com/groups?threadm=42C395FE.7010701@toetsch.at>

=head2 PGE bug

It appears that the upcoming changes in Parrot's context handling tweak a bug
in PGE. The discussion moved onto a discussion of PGE's implementation
strategy, Nicholas Clark was keen to make sure it didn't repeat some of the
Perl 5's regex engine's infelicities. While this discussion continued, Leo
spent half a day with gdb and tracked down the problem, which turned out to be
that a register wasn't getting initialized in the right place.

L<http://groups.google.com/groups?threadm=42C40534.1000102@toetsch.at>

=head2 Left-recursive grammars are bad m'kay?

While experimenting with PGE grammars, Will Coleda managed to write a
left-recursive grammar that blew Parrot's call stack with impressive ease. Luke
apologized for things blowing up so spectacularly, but pointed out that
left-recursive grammars weren't supported, and showed a rewritten grammar that
didn't have the same problem (but which doesn't appear to match the same
expressions). 

L<http://groups.google.com/groups?threadm=rt-3.0.11-36437-116436.17.8864180085717@perl.org>

=head2 Coroutines

Leo pointed to a summary of coroutines, and noted that we still hadn't defined
the syntax of Parrot coroutines, especially with respect to argument
passing. He discussed it with Matt Fowles and solicited a set of tests that
expressed the semantics they came up with.

L<http://groups.google.com/groups?threadm=ebb4ed649916ee6a195be937c1921d48@toetsch.at>

L<ftp://ftp.inf.puc-rio.br/pub/docs/techreports/04_15_moura.pdf>

=head2 ParTcl, Perl6 Grammars

Will Coleda announced that, thanks to Matt Diephouse's work, ParTcl (Tcl on
Parrot) is now able to run part of tcl's cvs-latest test suite. The tests
aren't fully native yet, they're currently driven through a Perl test harness
and only passing 10% of the tests, but hopefully the situation will improve and
ParTcl will end up able to run the tests completely natively (while passing far
more of them). Congratulations on the work so far though. 

L<http://groups.google.com/groups?threadm=D1E396F5-6AE6-43D3-B0A0-08CC710DBA6C@coleda.com>

=head2 Python and Parrot

Kevin Tew popped up to say that he too is working on a Python compiler
targetting parrot and wondered how to handle things like Python's C<self>
parameter. Michal Wallace and Leo chipped in with suggestions.

L<http://groups.google.com/groups?threadm=42C51CCB.7010008@tewk.com>

=head2 Another month, another release

Has it really been a month? Seems so. Parrot walked through the traditional
feature freeze, code freeze before being released on Sunday. The latest
release is called 'Geeksunite', referencing the website that discusses Chip's
problems with his former employer. You should definitely visit the Geeksunite
site -- Chip needs our help.

L<http://groups.google.com/groups?threadm=42C7C447.8000302@toetsch.at>

L<http://geeksunite.org/> -- Support your local Pumpking

=head2 C<lower> in default find_name scope

Patrick posted a code fragment whose output surprised him -- it turned out that
looking up "lower" as a name in the default scope returns an NCI object. Leo
explained why this was so, prompting Patrick to suggest that it would be useful
if, somewhere in the Parrot documentation there was some descriptions of
Parrot's builtin namespace. Leo encourage others to comment on namespace
issues, and hoped for some decisions as  well. 

L<http://groups.google.com/groups?threadm=20050702012449.GA25256@pmichaud.com>

=head2 Copyrights

If you're like me, discussion of copyrights an licenses is the sort of thing
that either really winds you up, or induces serious drowsiness depending on
your mood as you read the thread. It's one of those "Too important not to think
about, but too tedious to think about any more than is absolutely necessary"
topics. That said, Will Coleda said that he had thought that all of Parrot's
code was supposed to have its copyright assigned to the Perl
Foundation. However, on inspection he noticed a multiplicity of copyright
notices in the actual code, including one file in the repository with a
Microsoft copyright.

L<http://groups.google.com/groups?threadm=FECF197F-DEF8-4E4F-8FE9-EE0B2036516E@coleda.com>

=head2 PGE: Code blocks

Matt Diephouse wondered about the plan for integrating code blocks into PGE. He
thought it'd be nice to be able to specify a compiler to use along with the
code block (or, for the time being, just to be able to use PIR code). Patrick
said that there is a plan (or several) for handling this, but getting blocks to
work well needs coordination between PGE and the compiler language. In essence,
when PGE encounters a code block it needs to hand off to the target language's
compiler to parse to the end of the code block, and get back from the compiler
the length of the block thus parsed. 

L<http://groups.google.com/groups?threadm=198c873805070414191b878a4d@mail.gmail.com>

=head2 Possible bug calculating denominators

Curtis Rawls posted a fragment of code that seems to break Inc's
C<computed_denominators> algorithm. Leo wasn't surprised that there were
probably bugs in that part of IMCC, which was contributed by Angel Faus who no
longer seems to be participating in Parrot development. Which means it's not
been maintained for a while for lack of tuits. Anyone with an appropriate
supply of tuits is welcome (nay encouraged) to take it on.

L<http://groups.google.com/groups?threadm=45ec99fc05070423504732f4fd@mail.gmail.com>

=head1 Meanwhile, in perl6-language

=head2 Type variables vs. type literals

Autrijus had a question about the difference between 

    sub (::T $x, ::T $y) {...}

and 

    sub (T $x, T $y) {...}

Larry answered about 4 times, mulling over various options. It's times like
this that I'm reminded why it's worth following the list in detail rather than
reading the summaries -- it's good to see Larry thinking aloud, considering
all sorts of (seemingly) wacky options and getting feedback. 

L<http://groups.google.com/groups?threadm=20050630012510.GB22695@aut.dyndns.org>

=head2 Mr Clean vs. Perl 6

Yuval Kogman had some comments about fascism, strong (but I think he meant
static) typing, cleaning products, Perl 6 and type inferencing. Stephane
Payrard hoped that "Perl6 could become the playground of type theory
searchers." (To which I can only respond with a highly personal "Ick!")

L<http://groups.google.com/groups?threadm=20050630021756.GB23213@woobling.org>

=head2 Documentation trait / Docstring equivalent

The Platypus (aka David Formosa) wondered if documentation traits on subs would
be useful. The first to hope that it would be was chromatic, commenting that
it's a shame for Perl 6 to throw away potentially useful data recklessly. Larry
commented that he always cringes when he hears "the documentation" as if it's
the only thing. Again, Larry's thinking aloud on this subject is well worth
your time. 

L<http://groups.google.com/groups?threadm=slrndc6t2r.1v7.dformosa@dformosa.zeta.org.au>

=head2 SMD is for weenies

So says Yuval Kogman, and who are we to doubt him? Yuval wanted to make
multimethods the default type. Sam Vilain disagreed, pointing up the usefulness
of warnings like "method foo redefined at ...". 

L<http://groups.google.com/groups?threadm=20050630160746.GC23213@woobling.org>

=head2 DBI2 - The Plan and How You can Help

Tim Bunce outlined his current thinking on how DBI2 is going to work (DBI2's
going to be Perl 6 only) and a 'local' roadmap for the first things that need
doing. He then opened the floor for detailed proposals for what a Perl 6 DBI
API should look like. (I wonder if DBI2's going to be an important enough tool
that it'll want an RFC type process). 

I'm glossing over the ensuing discussion -- it's at the stage where, if you're
interested, you're better off joining in directly.

L<http://groups.google.com/groups?threadm=20050702000602.GA28472@timac.local>

L<http://groups.google.com/groups?threadm=p06230900beef5db21767@[192.168.1.101]>

=head2 Should C<.assuming> always be non mutating?

Ingo Blechschmidt had some suggestions about the behaviour of the currying
method C<.assuming>, arguing that it should always return a new thing and not
alter the state of the underlying object. Larry agreed.

L<http://groups.google.com/groups?threadm=dabksi$maf$1@sea.gmane.org>

=head2 C<return()> in pointy blocks

Coo. the pointy block thread returns. The question is, where to?

L<http://groups.google.com/groups?threadm=42C96B4C.6010105@orthogon.com>


=head2 Time::local

Gaal Yahas announced that he'd added C<localtime> to pugs in order to address
Dave Rolsky's needs when porting the very lovely and worth while DateTime
family of modules. He noted that Perl 6's final time related interfaces were
rather underspecified and had a bunch of questions. The one thing that's
absolutely certain is that the default Perl time API will use subsecond
resolution by default.

I've noticed that, every time you start to discuss how computers handle 'human'
things like time, dates, or writing systems, people often seem to have very
strong and deeply held ideas of the Right Way of doing things, and those Right
Ways are almost all different. Larry's job is probably going to be to work out
the Least Wrong Way. (If you've not heard Dave Rolsky's talks about the
underlying reasons for writing DateTime and the headaches it gave him then I
suggest you seek it out). 


L<http://groups.google.com/groups?threadm=20050705133948.GN10045@sike.forum2.org>

L<http://perlcast.com/audio/Perlcast_015.mp3> -- Perlcast 15, including Dave
Rolsky talking about DateTime

=head2 Autogenerated attribute accessor names

MetaModel maker, Stevan Little wondered what to do when attribute names clashed
as in: 

    class Foo { has @.bar; has $.bar; }

No answers yet.

L<http://groups.google.com/groups?threadm=200507051726.AA1792803112@mail.iinteractive.com>

=head1 Acknowledgements, adverts, apologies and alliteration

Summarizing a week is definitely way easier than summarizing a
fortnight. 

I'm apologizing in advance for the fact that, for those of you who read this
via the mailing list, some of the links probably don't work yet. The thing is,
the thread links are generated directly from the message-id's because that's
the information I have access to and, so far as I know, Google Groups is the
only archive that has a RESTful search interface that lets me use message-ids
as my key. If you know of an archive site that does this, but is more timely in
its archiving of perl6-language in particular then please let me know and I'll
start using that instead. Ideally it should allow me to directly address as
message complete with its thread context.

If you haven't already done so you really should pay a visit to
L<http://geeksunite.org/>. For the life of me, I can't see what I would have
done differently in Chip's situation and I'm staggered by what's happened to
him.

Right, back to our standard coda:

If you find these summaries useful or enjoyable, please consider
contributing to the Perl Foundation to help support the development of
Perl. 

L<http://donate.perl-foundation.org/> -- The Perl Foundation

L<http://dev.perl.org/perl6/> -- Perl 6 Development site

Or, you can check out my website. Maybe now I'm back writing stuff I'll start
updating it.

L<http://www.bofh.org.uk/>

Vaguely pretty photos by me can be found at:

L<http://www.flickr.com/photos/pdcawley>
